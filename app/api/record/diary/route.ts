import { NextRequest, NextResponse } from 'next/server';
const allItems = [
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
    {
        date: "2021.05.21",
        time: "23:25",
        title: "私の日記の記録が一部表示されます。",
        content:
            "テキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキストテキスト…",
    },
];
const ITEMS_PER_PAGE = 8;
export async function GET(request: NextRequest) {
    const searchParams = request.nextUrl.searchParams;
    const page = parseInt(searchParams.get('page') || '1', 10);
    const totalItems = allItems.length;
    const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);
    const startIndex = (page - 1) * ITEMS_PER_PAGE;
    const endIndex = startIndex + ITEMS_PER_PAGE;
    const itemsForPage = allItems.slice(startIndex, endIndex);
    return NextResponse.json({
        items: itemsForPage,
        currentPage: page,
        totalPages: totalPages,
        totalItems: totalItems,
        hasMore: page < totalPages,
    });
}